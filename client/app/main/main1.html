<div class="high emerald-default htmls htmls_widgets">
  <!-- Apple Touch -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/images/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/images/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/images/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="assets/images/apple-touch-icon-57-precomposed.png">

  <!-- Favicon -->
  <link rel="shortcut icon" href="assets/images/favicon.png">

  <script type="text/javascript">
    var polyfilter_scriptpath = "assets/themes/emerald/polyfills/filters/";
    window.polyfilter_skip_stylesheets = true
  </script>

  <!-- <link href="assets/css/application.css" rel="stylesheet" type="text/css" /> -->
  <script src="assets/js/application.js" type="text/javascript"></script>
  <script src="assets/js/demo.js" type="text/javascript"></script>
  <script src="assets/js/init.js" type="text/javascript"></script>

  <style>
    #pinBoot {
      position: relative;
      max-width: 100%;
      width: 100%;
    }
    
    #pinBoot img {
      width: 100%;
      max-width: 100%;
      height: auto;
    }
    
    #pinBoot .white-panel {
      position: absolute;
      background: white;
      box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.3);
      padding: 10px;
    }
    
    #pinBoot .white-panel h1 {
      font-size: 1em;
    }
    
    #pinBoot .white-panel h1 a {
      color: #A92733;
    }
    
    #pinBoot .white-panel:hover {
      box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.5);
      margin-top: -5px;
      -webkit-transition: all 0.3s ease-in-out;
      -moz-transition: all 0.3s ease-in-out;
      -o-transition: all 0.3s ease-in-out;
      transition: all 0.3s ease-in-out;
    }
    
    .modal-xlg {
      width: 90%;
    }
    
    #portal-manager {
      font-size: 1.5em;
    }
    
    .list-group-item {
      border: none;
      border-bottom: 5px solid #ccc;
    }
    
    .list-group-item.player {
      border-left: 20px solid #f7964f;
    }
    
    .list-group-item.admin {
      border-left: 20px solid #db6363;
    }
    
    .btn-hot {
      color: #fff;
      background-color: #db5566;
      border-bottom: 2px solid #af4451;
    }
    
    .btn-hot:hover,
    .btn-sky.active:focus,
    .btn-hot:focus,
    .open>.dropdown-toggle.btn-hot {
      color: #fff;
      background-color: #df6a78;
      border-bottom: 2px solid #b25560;
      outline: none;
    }
    
    .btn-hot:active,
    .btn-hot.active {
      color: #fff;
      background-color: #c04b59;
      border-top: 2px solid #9a3c47;
      margin-top: 2px;
    }
    
    .btn-sunny {
      color: #fff;
      background-color: #f4ad49;
      border-bottom: 2px solid #c38a3a;
    }
    
    .btn-sunny:hover,
    .btn-sky.active:focus,
    .btn-sunny:focus,
    .open>.dropdown-toggle.btn-sunny {
      color: #fff;
      background-color: #f5b75f;
      border-bottom: 2px solid #c4924c;
      outline: none;
    }
    
    .btn-sunny:active,
    .btn-sunny.active {
      color: #fff;
      background-color: #d69840;
      border-top: 2px solid #ab7a33;
      margin-top: 2px;
    }
    
    .btn-sky {
      color: #fff;
      background-color: #0bacd3;
      border-bottom: 2px solid #098aa9;
    }
    
    .btn-sky:hover,
    .btn-sky.active:focus,
    .btn-sky:focus,
    .open>.dropdown-toggle.btn-sky {
      color: #fff;
      background-color: #29b6d8;
      border-bottom: 2px solid #2192ad;
      outline: none;
    }
    
    .btn-sky:active,
    .btn-sky.active {
      color: #fff;
      background-color: #0a97b9;
      border-top: 2px solid #087994;
      outline-offset: none;
      margin-top: 2px;
    }
    
    .btn:focus,
    .btn:active:focus,
    .btn.active:focus {
      outline: none;
      outline-offset: 0px;
    }
    
    .btn-create {
      width: 100%;
      font-size: 1.2em;
      padding: 20px;
    }
  </style>

  <div id="node-dialog-container"></div>


  <div ng-cloak class="ng-cloak" class="oc-xs-push-push oc-sm-squeeze-push oc-md-squeeze-push oc-lg-squeeze-push modal-blur-content">

    <div id="oc-wrapper" class="oc-wrapper">

      <div class="oc-push oc-scroll">


        <div id="main-oc-container" class="oc-container">
          <nav class="navbar navbar-default navbar-static-top navbar-inplace" role="navigation">
            <ul class="nav navbar-nav navbar-left pull-left hidden-sm hidden-md hidden-lg">
              <li>
                <a id="oc-left-toggle-xs" href="#oc-wrapper" class="btn-nav pull-left " data-toggle="offcanvas" data-control="left" data-states="open,hidden" data-persist="lg,md,sm" data-parent="body" data-sibling="right">
                  <i class="icm icm-menu6"></i>
                </a>
              </li>
            </ul>
            <a class="navbar-brand" href="htmls/dashboard.html">
              <img src="assets/images/amplayfier-logo.png" /> am
              <span class="text-warning-dk">play</span>fier</a>
            <ul class="nav navbar-nav navbar-right pull-right hidden-xs" style="margin-right:5px;">
              <li class="dropdown" dropdown>
                <a href="#" dropdown-toggle class="navbar-img-link dropdown-toggle">
                  <img class="img-circle" src="assets/images/faker/avatars/48/Faces_Users-13.png" />
                  <span class="hidden-xs hidden-sm hidden-md">{{currentUser.name}}</span>
                  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu animated fadeIn fast">
                  <li>
                    <a href="pages/profile.html"> <i class="fa fa-user"></i> Profile
                    </a>
                  </li>
                  <li>
                    <a href="pages/profile.html"> <i class="fa fa-cog"></i> Settings
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <a href="#" ng-click="logout()"> <i class="fa fa-power-off text-danger"></i>
                        <span class="text-danger">Sign out</span>
                      </a>
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </nav>

          <div class="container-fluid">
            <div class="row">
              <div class="col-sm-8">
                <h3 class="em-page-header v-mid-row thin">
                  <i class="icm icm-grid text-gradient-info-dk"></i>
                  <span class="text-gradient-black-dk">Dashboard </span>
                </h3>
              </div>
              <div class="col-sm-4 text-right-sm text-right-md text-right-lg">
                <ul class="breadcrumb breadcrumb-top">
                  <li><i class="fa fa-home"></i> <a href="/">Home</a>
                  </li>
                  <li class="active"><i class="fa fa-list-alt"></i> Dashboard</li>
                </ul>
              </div>
            </div>
          </div>


          <div class="container-fluid">
            <section id="pinBoot" class="turbo-grid">


              <article ng-show="allPortals.length > 0" class="white-panel turbo-card turbo-toggle" data-back-class="bg-dark-lter" data-turbo-url="assets/elements/listing.html">

                <img src="http://thumbs.dreamstime.com/t/multicolored-pencils-isolated-white-background-back-to-school-42337577.jpg" alt="">
                <h1 style="font-size:2em;">MY PORTALS
                  <div class="btn btn-primary pull-right" onclick="$('#modalMyPortal').modal('show');">Open</div>
                </h1>
              </article>

              <article ng-repeat="storyboard in storyboards" class="white-panel">

                <img src="{{storyboard.backgroundImage}}" alt="">
                <h4><a href="#">{{storyboard.title | uppercase}}</a></h4>

                <p>
                  {{storyboard.description}}
                </p>
                <br>

                <div class="box-table" style="">

                  <div class="pull-right">
                    <h1 class="text-lg no-margin major" style="line-height:0.7;font-size:6em;">{{storyboard.noOfChapters}}</h1>
                  </div>
                  <div class="pull-right">
                    <div class="text-semi text-right">
                      <div><i class="fa fa-book fa-2x"></i>
                      </div>
                      <div>CHAPTERS</div>
                    </div>
                    <div class="text-right">
                      {{storyboard.difficulty}}
                    </div>
                  </div>
                  <a class="btn btn-info pull-left" style="position:absolute; bottom:3%;" ng-click="selecteStoryBoard(storyboard)">USE THIS TEMPLATE</a>
                </div>
              </article>
            </section>
          </div>
        </div>
      </div>


    </div>

  </div>

  <div class="modal super-scaled modal-dark" id="modalMyPortal" tabindex="-1" role="dialog" aria-labelledby="modalStoryboardLabel" aria-hidden="true">
    <div class="modal-dialog modal-xlg">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="modalStoryboardLabel">My Portals</h4>
        </div>
        <div class="modal-body">
          <div id="portal-manager">
            <div class="well" style="background:#ccc;color:black;">
              <div class="row">
                <div class="col-md-12">
                  <div class="input-group">
                    <input type="text" ng-model="searchTerm" ng-change="searchPortals()" name="SearchDualList" class="form-control" placeholder="Search for a portal" style="background:white;" />
                    <span class="input-group-addon glyphicon glyphicon-search btn-warning"></span>
                  </div>
                </div>
              </div>
              <ul class="list-group" style="margin-top:25px">
                <li class="list-group-item {{portal.role | lowercase}}" ng-repeat="portal in portals">
                  {{portal.name}}
                  <div class="btn-bank pull-right">
                    <button type="button" class="btn btn-sky text-uppercase btn-sm">Play</button>
                    <button ng-show="portal.role === 'Admin'" type="button" class="btn btn-sunny text-uppercase btn-sm">Edit</button>
                    <button ng-show="portal.role === 'Admin'" type="button" class="btn btn-hot text-uppercase btn-sm" ng-click="deletePortal(portal)">Delete</button>
                  </div>
                </li>
              </ul>
            </div>
            <!-- <div class="row">
              <div class="col-md-6 col-md-offset-3">
                <a href="#" class="btn btn-primary btn-lg btn-create" ng-click="open()">Create a New Portal</a>
              </div>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="modal super-scaled modal-dark" id="modalStoryboard" tabindex="-1" role="dialog" aria-labelledby="modalStoryboardLabel" aria-hidden="true">
    <div class="modal-dialog modal-xlg">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="modalStoryboardLabel">Select this Wrapper</h4>
        </div>
        <div class="modal-body">
          <div class="row padded-top padded-bottom">
            <div class="col-sm-8">
              <img src="{{selectedStoryBoard.backgroundImage}}" class="img-responsive" style="width:70%;">
            </div>
            <div class="col-sm-4 padded-top">

              <div class="box-table">

                <div class="pull-right">
                  <h1 class="text-lg no-margin major" style="line-height:0.7;font-size:6em;margin-left:0.1em;">{{selectedStoryBoard.noOfChapters}}</h1>
                </div>
                <div class="pull-right">
                  <div class="text-semi text-right">
                    <div><i class="fa fa-book fa-2x"></i>
                    </div>
                    <div>{{selectedStoryBoard.captionTitle | uppercase}}</div>
                  </div>
                  <div class="text-right">
                    {{selectedStoryBoard.difficulty | uppercase}}
                  </div>
                </div>
              </div>

              <h3>{{selectedStoryBoard.type}}</h3>
              <h1>{{selectedStoryBoard.title | uppercase}}</h1>
              <p>{{selectedStoryBoard.description}}</p>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal">Save and Continue</button>

        </div>
      </div>
    </div>
  </div>


  <!-- Needed by BSE.Mq.screen() helper in utils.js -->
  <div id="mq"></div>

  <!-- Needed by EmVars helper in _emerald.js -->
  <div id="emvars"></div>

  <script>
    $(function() {
      $('#pinBoot').pinterest_grid({
        no_columns: 4,
        padding_x: 10,
        padding_y: 10,
        margin_bottom: 50,
        single_column_breakpoint: 700
      });
    });

    (function($, window, document, undefined) {
      var pluginName = 'pinterest_grid',
        defaults = {
          padding_x: 10,
          padding_y: 10,
          no_columns: 3,
          margin_bottom: 50,
          single_column_breakpoint: 700
        },
        columns,
        $article,
        article_width;

      function Plugin(element, options) {
        this.element = element;
        this.options = $.extend({}, defaults, options);
        this._defaults = defaults;
        this._name = pluginName;
        this.init();
      }

      Plugin.prototype.init = function() {
        var self = this,
          resize_finish;

        $(window).resize(function() {
          clearTimeout(resize_finish);
          resize_finish = setTimeout(function() {
            self.make_layout_change(self);
          }, 11);
        });

        self.make_layout_change(self);

        setTimeout(function() {
          $(window).resize();
        }, 500);
      };

      Plugin.prototype.calculate = function(single_column_mode) {
        var self = this,
          tallest = 0,
          row = 0,
          $container = $(this.element),
          container_width = $container.width();
        $article = $(this.element).children();

        if (single_column_mode === true) {
          article_width = $container.width() - self.options.padding_x;
        } else {
          article_width = ($container.width() - self.options.padding_x * self.options.no_columns) / self.options.no_columns;
        }

        $article.each(function() {
          $(this).css('width', article_width);
        });

        columns = self.options.no_columns;

        $article.each(function(index) {
          var current_column,
            left_out = 0,
            top = 0,
            $this = $(this),
            prevAll = $this.prevAll(),
            tallest = 0;

          if (single_column_mode === false) {
            current_column = (index % columns);
          } else {
            current_column = 0;
          }

          for (var t = 0; t < columns; t++) {
            $this.removeClass('c' + t);
          }

          if (index % columns === 0) {
            row++;
          }

          $this.addClass('c' + current_column);
          $this.addClass('r' + row);

          prevAll.each(function(index) {
            if ($(this).hasClass('c' + current_column)) {
              top += $(this).outerHeight() + self.options.padding_y;
            }
          });

          if (single_column_mode === true) {
            left_out = 0;
          } else {
            left_out = (index % columns) * (article_width + self.options.padding_x);
          }

          $this.css({
            'left': left_out,
            'top': top
          });
        });

        this.tallest($container);
        $(window).resize();
      };

      Plugin.prototype.tallest = function(_container) {
        var column_heights = [],
          largest = 0;

        for (var z = 0; z < columns; z++) {
          var temp_height = 0;
          _container.find('.c' + z).each(function() {
            temp_height += $(this).outerHeight();
          });
          column_heights[z] = temp_height;
        }

        largest = Math.max.apply(Math, column_heights);
        _container.css('height', largest + (this.options.padding_y + this.options.margin_bottom));
      };

      Plugin.prototype.make_layout_change = function(_self) {
        if ($(window).width() < _self.options.single_column_breakpoint) {
          _self.calculate(true);
        } else {
          _self.calculate(false);
        }
      };

      $.fn[pluginName] = function(options) {
        return this.each(function() {
          if (!$.data(this, 'plugin_' + pluginName)) {
            $.data(this, 'plugin_' + pluginName,
              new Plugin(this, options));
          }
        });
      }

    })(jQuery, window, document);
  </script>




</div>